@model Lab3.Models.Product

@{
    ViewData["Title"] = "Modify Asset";
}

<div style="max-width: 800px; margin: 0 auto; padding: 80px var(--page-padding);">
    <h2 class="serif" style="font-size: 3rem; margin-bottom: 40px;">Modify Asset_</h2>
    
    <form asp-action="Edit" enctype="multipart/form-data">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <input type="hidden" asp-for="ProductId" />
        <input type="hidden" asp-for="CreatedDate" />
        <input type="hidden" asp-for="ImageUrl" /> <!-- Keep existing URL -->
        
        <div class="form-group-analog">
            <label asp-for="Name" class="form-label">IDENTIFIER //</label>
            <input asp-for="Name" class="form-input-analog" />
            <span asp-validation-for="Name" class="text-danger mono" style="font-size: 0.7rem;"></span>
        </div>

        <div class="form-group-analog">
            <label asp-for="Category" class="form-label">CATEGORY //</label>
            <input asp-for="Category" class="form-input-analog" />
            <span asp-validation-for="Category" class="text-danger mono" style="font-size: 0.7rem;"></span>
        </div>

        <div class="form-group-analog">
            <label asp-for="Color" class="form-label">COLOR //</label>
            <input asp-for="Color" class="form-input-analog" />
            <span asp-validation-for="Color" class="text-danger mono" style="font-size: 0.7rem;"></span>
        </div>

        <div class="form-group-analog">
            <label asp-for="UnitPrice" class="form-label">VALUE //</label>
            <input asp-for="UnitPrice" class="form-input-analog" />
            <span asp-validation-for="UnitPrice" class="text-danger mono" style="font-size: 0.7rem;"></span>
        </div>
        
        <div class="form-group-analog">
            <label asp-for="AvailableQuantity" class="form-label">QUANTITY //</label>
            <input asp-for="AvailableQuantity" class="form-input-analog" />
            <span asp-validation-for="AvailableQuantity" class="text-danger mono" style="font-size: 0.7rem;"></span>
        </div>

        <!-- FILM LOADING SLOT (IMAGE UPLOAD) -->
        <div class="form-group-analog" style="align-items: flex-start;">
            <label class="form-label">VISUAL SOURCE //</label>
            <div style="width: 100%;">
                <div class="file-loading-slot">
                    <input type="file" name="imageFile" id="imageFile" class="file-input-hidden" onchange="document.getElementById('fileNameDisplay').innerText = this.files[0].name" />
                    <label for="imageFile" class="file-label-visual">
                        <span class="mono">[ DRIVE STATUS: @(string.IsNullOrEmpty(Model.ImageUrl) ? "EMPTY" : "LOADED") ]</span>
                        <span id="fileNameDisplay" class="mono accent-clay" style="display: block; margin-top: 8px;"></span>
                    </label>
                </div>
                @if (!string.IsNullOrEmpty(Model.ImageUrl))
                {
                    <div style="margin-top: 10px;">
                        <span class="mono text-muted">CURRENT:</span>
                        <img src="@Model.ImageUrl" style="height: 50px; border: 1px solid var(--border-color); margin-left: 10px;" />
                    </div>
                }
            </div>
        </div>

        <div style="margin-top: 60px; display: flex; gap: 24px;">
            <input type="submit" value="[ UPDATE DATA ]" class="btn-analog" />
            <a asp-action="Index" class="btn-outline" style="padding: 16px 32px; text-decoration: none;">CANCEL</a>
        </div>
    </form>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}